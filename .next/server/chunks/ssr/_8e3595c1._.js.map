{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/hooks/useDebounceValue.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nexport function useDebounceValue(value, delay = 300) {\r\n  const [v, setV] = useState(value);\r\n  useEffect(() => {\r\n    const id = setTimeout(() => setV(value), delay);\r\n    return () => clearTimeout(id);\r\n  }, [value, delay]);\r\n  return v;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;AAEO,SAAS,iBAAiB,KAAK,EAAE,QAAQ,GAAG;IACjD,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,iNAAQ,EAAC;IAC3B,IAAA,kNAAS,EAAC;QACR,MAAM,KAAK,WAAW,IAAM,KAAK,QAAQ;QACzC,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAO;KAAM;IACjB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/hooks/useDepartments.js"],"sourcesContent":["\"use client\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { apiFetch } from \"@/lib/api\";\r\nimport { useDebounceValue } from \"@/hooks/useDebounceValue\";\r\n\r\nexport function useDepartments() {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [q, setQ] = useState(\"\");\r\n  const qDebounced = useDebounceValue(q, 250);\r\n\r\n  const fetchList = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiFetch(\r\n        `/api/departments?q=${encodeURIComponent(\r\n          qDebounced\r\n        )}&page=1&limit=200&sortBy=id&sort=asc`\r\n      );\r\n      setItems(res?.data || []);\r\n      setError(\"\");\r\n    } catch (e) {\r\n      setError(e?.data?.error || e?.message || \"โหลดไม่สำเร็จ\");\r\n      setItems([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [qDebounced]);\r\n\r\n  useEffect(() => {\r\n    fetchList();\r\n  }, [fetchList]);\r\n\r\n  const reload = fetchList;\r\n\r\n  const upsert = useCallback(\r\n    async (payload) => {\r\n      await apiFetch(`/api/departments`, {\r\n        method: \"POST\",\r\n        body: { id: payload.id ?? null, ...payload },\r\n      });\r\n      await reload();\r\n    },\r\n    [reload]\r\n  );\r\n\r\n  const remove = useCallback(\r\n    async (id) => {\r\n      if (!confirm(\"ลบรายการนี้?\")) return;\r\n      await apiFetch(`/api/departments/${id}`, { method: \"DELETE\" });\r\n      await reload();\r\n    },\r\n    [reload]\r\n  );\r\n\r\n  return { items, loading, error, q, setQ, reload, upsert, remove };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,iNAAQ,EAAC;IAC3B,MAAM,aAAa,IAAA,6IAAgB,EAAC,GAAG;IAEvC,MAAM,YAAY,IAAA,oNAAW,EAAC;QAC5B,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,sHAAQ,EACxB,CAAC,mBAAmB,EAAE,mBACpB,YACA,oCAAoC,CAAC;YAEzC,SAAS,KAAK,QAAQ,EAAE;YACxB,SAAS;QACX,EAAE,OAAO,GAAG;YACV,SAAS,GAAG,MAAM,SAAS,GAAG,WAAW;YACzC,SAAS,EAAE;QACb,SAAU;YACR,WAAW;QACb;IACF,GAAG;QAAC;KAAW;IAEf,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,SAAS;IAEf,MAAM,SAAS,IAAA,oNAAW,EACxB,OAAO;QACL,MAAM,IAAA,sHAAQ,EAAC,CAAC,gBAAgB,CAAC,EAAE;YACjC,QAAQ;YACR,MAAM;gBAAE,IAAI,QAAQ,EAAE,IAAI;gBAAM,GAAG,OAAO;YAAC;QAC7C;QACA,MAAM;IACR,GACA;QAAC;KAAO;IAGV,MAAM,SAAS,IAAA,oNAAW,EACxB,OAAO;QACL,IAAI,CAAC,QAAQ,iBAAiB;QAC9B,MAAM,IAAA,sHAAQ,EAAC,CAAC,iBAAiB,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QAC5D,MAAM;IACR,GACA;QAAC;KAAO;IAGV,OAAO;QAAE;QAAO;QAAS;QAAO;QAAG;QAAM;QAAQ;QAAQ;IAAO;AAClE","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/ui/table.jsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Table({ className = \"\", ...props }) {\r\n  return (\r\n    <table\r\n      className={`w-full caption-bottom text-sm ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function TableHeader(props) {\r\n  return <thead className=\"[&_tr]:border-b\" {...props} />;\r\n}\r\nexport function TableBody(props) {\r\n  return <tbody className=\"[&_tr:last-child]:border-0\" {...props} />;\r\n}\r\nexport function TableRow({ className = \"\", ...props }) {\r\n  return (\r\n    <tr\r\n      className={`border-b transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-800 ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function TableHead({ className = \"\", ...props }) {\r\n  return (\r\n    <th\r\n      className={`h-10 px-3 text-left align-middle font-medium text-neutral-600 dark:text-neutral-300 ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function TableCell({ className = \"\", ...props }) {\r\n  return <td className={`p-3 align-middle ${className}`} {...props} />;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA;AADA;;;AAGO,SAAS,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAChD,qBACE,8OAAC;QACC,WAAW,CAAC,8BAA8B,EAAE,WAAW;QACtD,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,YAAY,KAAK;IAC/B,qBAAO,8OAAC;QAAM,WAAU;QAAmB,GAAG,KAAK;;;;;;AACrD;AACO,SAAS,UAAU,KAAK;IAC7B,qBAAO,8OAAC;QAAM,WAAU;QAA8B,GAAG,KAAK;;;;;;AAChE;AACO,SAAS,SAAS,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACnD,qBACE,8OAAC;QACC,WAAW,CAAC,yEAAyE,EAAE,WAAW;QACjG,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,UAAU,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACpD,qBACE,8OAAC;QACC,WAAW,CAAC,oFAAoF,EAAE,WAAW;QAC5G,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,UAAU,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACpD,qBAAO,8OAAC;QAAG,WAAW,CAAC,iBAAiB,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;AAClE","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/admin/departments/DeptTable.jsx"],"sourcesContent":["\"use client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableRow,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n} from \"@/components/ui/table\";\r\n\r\nexport function DeptTable({ items, loading, onEdit, onDelete }) {\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead className=\"w-16\">ID</TableHead>\r\n            <TableHead>Code</TableHead>\r\n            <TableHead>Name (TH)</TableHead>\r\n            <TableHead>Name (EN)</TableHead>\r\n            <TableHead className=\"text-right w-48\">Actions</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {loading ? (\r\n            <TableRow>\r\n              <TableCell colSpan={5} className=\"text-center py-10\">\r\n                Loading…\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : items?.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={5} className=\"text-center py-10\">\r\n                ไม่พบข้อมูล\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            items.map((d) => (\r\n              <TableRow key={d.id}>\r\n                <TableCell>{d.id}</TableCell>\r\n                <TableCell className=\"font-mono\">{d.code}</TableCell>\r\n                <TableCell>{d.nameTh}</TableCell>\r\n                <TableCell>{d.nameEn}</TableCell>\r\n                <TableCell className=\"text-right space-x-2\">\r\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => onEdit(d)}>\r\n                    Edit\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"destructive\"\r\n                    onClick={() => onDelete(d.id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAWO,SAAS,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE;IAC5D,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,mIAAK;;8BACJ,8OAAC,yIAAW;8BACV,cAAA,8OAAC,sIAAQ;;0CACP,8OAAC,uIAAS;gCAAC,WAAU;0CAAO;;;;;;0CAC5B,8OAAC,uIAAS;0CAAC;;;;;;0CACX,8OAAC,uIAAS;0CAAC;;;;;;0CACX,8OAAC,uIAAS;0CAAC;;;;;;0CACX,8OAAC,uIAAS;gCAAC,WAAU;0CAAkB;;;;;;;;;;;;;;;;;8BAG3C,8OAAC,uIAAS;8BACP,wBACC,8OAAC,sIAAQ;kCACP,cAAA,8OAAC,uIAAS;4BAAC,SAAS;4BAAG,WAAU;sCAAoB;;;;;;;;;;+BAIrD,OAAO,WAAW,kBACpB,8OAAC,sIAAQ;kCACP,cAAA,8OAAC,uIAAS;4BAAC,SAAS;4BAAG,WAAU;sCAAoB;;;;;;;;;;+BAKvD,MAAM,GAAG,CAAC,CAAC,kBACT,8OAAC,sIAAQ;;8CACP,8OAAC,uIAAS;8CAAE,EAAE,EAAE;;;;;;8CAChB,8OAAC,uIAAS;oCAAC,WAAU;8CAAa,EAAE,IAAI;;;;;;8CACxC,8OAAC,uIAAS;8CAAE,EAAE,MAAM;;;;;;8CACpB,8OAAC,uIAAS;8CAAE,EAAE,MAAM;;;;;;8CACpB,8OAAC,uIAAS;oCAAC,WAAU;;sDACnB,8OAAC,qIAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,SAAS,IAAM,OAAO;sDAAI;;;;;;sDAG9D,8OAAC,qIAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,SAAS,IAAM,SAAS,EAAE,EAAE;sDAC7B;;;;;;;;;;;;;2BAbU,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AAwBjC","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/ui/input.jsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nfunction cx(...xs) {\r\n  return xs.filter(Boolean).join(\" \");\r\n}\r\n\r\nexport const Input = React.forwardRef(function Input(\r\n  { className = \"\", ...props },\r\n  ref\r\n) {\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      className={cx(\r\n        \"flex h-10 w-full rounded-md border border-neutral-300 bg-transparent px-3 py-2 text-sm\",\r\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-900/20\",\r\n        \"disabled:cursor-not-allowed disabled:opacity-50\",\r\n        \"dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,SAAS,GAAG,GAAG,EAAE;IACf,OAAO,GAAG,MAAM,CAAC,SAAS,IAAI,CAAC;AACjC;AAEO,MAAM,sBAAQ,gNAAK,CAAC,UAAU,CAAC,SAAS,MAC7C,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAC5B,GAAG;IAEH,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,GACT,0FACA,qFACA,mDACA,qEACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/ui/label.jsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Label({ className = \"\", ...props }) {\r\n  return (\r\n    <label\r\n      className={`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGO,SAAS,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAChD,qBACE,8OAAC;QACC,WAAW,CAAC,2FAA2F,EAAE,WAAW;QACnH,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/admin/departments/DeptForm.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useId, useState } from \"react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nexport function DeptForm({ defaultValues, onSubmit }) {\r\n  const [values, setValues] = useState(defaultValues);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const formId = useId();\r\n\r\n  useEffect(() => setValues(defaultValues), [defaultValues]);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!values.code?.trim()) return alert(\"กรุณากรอก Code\");\r\n    if (!values.nameTh?.trim()) return alert(\"กรุณากรอกชื่อ (TH)\");\r\n    setSubmitting(true);\r\n    try {\r\n      await onSubmit(values);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form id=\"dept-form\" onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <input type=\"hidden\" name=\"id\" value={values.id ?? \"\"} />\r\n\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label htmlFor={`${formId}-code`}>Code</Label>\r\n          <Input\r\n            id={`${formId}-code`}\r\n            value={values.code}\r\n            onChange={(e) => setValues((s) => ({ ...s, code: e.target.value }))}\r\n            placeholder=\"EX: HR, MK, QS\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-2\">\r\n          <Label htmlFor={`${formId}-nameTh`}>Name (TH)</Label>\r\n          <Input\r\n            id={`${formId}-nameTh`}\r\n            value={values.nameTh}\r\n            onChange={(e) =>\r\n              setValues((s) => ({ ...s, nameTh: e.target.value }))\r\n            }\r\n            placeholder=\"เช่น ทรัพยากรบุคคล\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-2\">\r\n          <Label htmlFor={`${formId}-nameEn`}>Name (EN)</Label>\r\n          <Input\r\n            id={`${formId}-nameEn`}\r\n            value={values.nameEn}\r\n            onChange={(e) =>\r\n              setValues((s) => ({ ...s, nameEn: e.target.value }))\r\n            }\r\n            placeholder=\"e.g., Human Resources\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-3 pt-1 text-xs text-muted-foreground\">\r\n        <span>{values.id ? `#${values.id}` : \"New\"}</span>\r\n        {submitting && <span>Saving…</span>}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS,SAAS,EAAE,aAAa,EAAE,QAAQ,EAAE;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,SAAS,IAAA,8MAAK;IAEpB,IAAA,kNAAS,EAAC,IAAM,UAAU,gBAAgB;QAAC;KAAc;IAEzD,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,IAAI,CAAC,OAAO,IAAI,EAAE,QAAQ,OAAO,MAAM;QACvC,IAAI,CAAC,OAAO,MAAM,EAAE,QAAQ,OAAO,MAAM;QACzC,cAAc;QACd,IAAI;YACF,MAAM,SAAS;QACjB,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAK,IAAG;QAAY,UAAU;QAAc,WAAU;;0BACrD,8OAAC;gBAAM,MAAK;gBAAS,MAAK;gBAAK,OAAO,OAAO,EAAE,IAAI;;;;;;0BAEnD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC,mIAAK;gCAAC,SAAS,GAAG,OAAO,KAAK,CAAC;0CAAE;;;;;;0CAClC,8OAAC,mIAAK;gCACJ,IAAI,GAAG,OAAO,KAAK,CAAC;gCACpB,OAAO,OAAO,IAAI;gCAClB,UAAU,CAAC,IAAM,UAAU,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wCAAC,CAAC;gCACjE,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mIAAK;gCAAC,SAAS,GAAG,OAAO,OAAO,CAAC;0CAAE;;;;;;0CACpC,8OAAC,mIAAK;gCACJ,IAAI,GAAG,OAAO,OAAO,CAAC;gCACtB,OAAO,OAAO,MAAM;gCACpB,UAAU,CAAC,IACT,UAAU,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wCAAC,CAAC;gCAEpD,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mIAAK;gCAAC,SAAS,GAAG,OAAO,OAAO,CAAC;0CAAE;;;;;;0CACpC,8OAAC,mIAAK;gCACJ,IAAI,GAAG,OAAO,OAAO,CAAC;gCACtB,OAAO,OAAO,MAAM;gCACpB,UAAU,CAAC,IACT,UAAU,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wCAAC,CAAC;gCAEpD,aAAY;;;;;;;;;;;;;;;;;;0BAKlB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCAAM,OAAO,EAAE,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG;;;;;;oBACpC,4BAAc,8OAAC;kCAAK;;;;;;;;;;;;;;;;;;AAI7B","debugId":null}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/components/ui/dialog.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { createContext, useContext, useEffect } from \"react\";\r\n\r\nconst DialogCtx = createContext({ onOpenChange: () => {}, open: false });\r\n\r\nexport function Dialog({ open, onOpenChange, children }) {\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const onKey = (e) => {\r\n      if (e.key === \"Escape\") onOpenChange(false);\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onOpenChange]);\r\n  return (\r\n    <DialogCtx.Provider value={{ onOpenChange, open }}>\r\n      {children}\r\n    </DialogCtx.Provider>\r\n  );\r\n}\r\n\r\nexport function DialogContent({ className = \"\", children, ...rest }) {\r\n  const { open, onOpenChange } = useContext(DialogCtx);\r\n  if (!open) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 z-50\" aria-modal=\"true\" role=\"dialog\">\r\n      <div\r\n        className=\"absolute inset-0 bg-black/50\"\r\n        onClick={() => onOpenChange(false)}\r\n      />\r\n      <div className=\"absolute inset-0 grid place-items-center p-4\">\r\n        <div\r\n          className={`w-full max-w-lg rounded-lg bg-white dark:bg-neutral-900 shadow-2xl border dark:border-neutral-800 ${className}`}\r\n          {...rest}\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport function DialogHeader({ className = \"\", ...props }) {\r\n  return <div className={`border-b px-6 py-4 ${className}`} {...props} />;\r\n}\r\nexport function DialogTitle({ className = \"\", ...props }) {\r\n  return <h2 className={`text-lg font-semibold ${className}`} {...props} />;\r\n}\r\nexport function DialogFooter({ className = \"\", ...props }) {\r\n  return (\r\n    <div\r\n      className={`border-t px-6 py-4 flex justify-end gap-2 ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function DialogClose({ asChild, children }) {\r\n  const { onOpenChange } = useContext(DialogCtx);\r\n  if (asChild && React.isValidElement(children)) {\r\n    return React.cloneElement(children, {\r\n      onClick: (e) => {\r\n        children.props?.onClick?.(e);\r\n        onOpenChange(false);\r\n      },\r\n    });\r\n  }\r\n  return (\r\n    <button\r\n      onClick={() => onOpenChange(false)}\r\n      className=\"inline-flex items-center justify-center rounded-md border px-3 py-2 text-sm\"\r\n    >\r\n      {children || \"Close\"}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA;AADA;;;AAGA,MAAM,0BAAY,IAAA,sNAAa,EAAC;IAAE,cAAc,KAAO;IAAG,MAAM;AAAM;AAE/D,SAAS,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE;IACrD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,QAAQ,CAAC;YACb,IAAI,EAAE,GAAG,KAAK,UAAU,aAAa;QACvC;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAM;KAAa;IACvB,qBACE,8OAAC,UAAU,QAAQ;QAAC,OAAO;YAAE;YAAc;QAAK;kBAC7C;;;;;;AAGP;AAEO,SAAS,cAAc,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,MAAM;IACjE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,IAAA,mNAAU,EAAC;IAC1C,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,8OAAC;QAAI,WAAU;QAAqB,cAAW;QAAO,MAAK;;0BACzD,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa;;;;;;0BAE9B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAW,CAAC,kGAAkG,EAAE,WAAW;oBAC1H,GAAG,IAAI;8BAEP;;;;;;;;;;;;;;;;;AAKX;AACO,SAAS,aAAa,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACvD,qBAAO,8OAAC;QAAI,WAAW,CAAC,mBAAmB,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;AACrE;AACO,SAAS,YAAY,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACtD,qBAAO,8OAAC;QAAG,WAAW,CAAC,sBAAsB,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;AACvE;AACO,SAAS,aAAa,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACvD,qBACE,8OAAC;QACC,WAAW,CAAC,0CAA0C,EAAE,WAAW;QAClE,GAAG,KAAK;;;;;;AAGf;AACO,SAAS,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE;IAC/C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,mNAAU,EAAC;IACpC,IAAI,yBAAW,gNAAK,CAAC,cAAc,CAAC,WAAW;QAC7C,qBAAO,gNAAK,CAAC,YAAY,CAAC,UAAU;YAClC,SAAS,CAAC;gBACR,SAAS,KAAK,EAAE,UAAU;gBAC1B,aAAa;YACf;QACF;IACF;IACA,qBACE,8OAAC;QACC,SAAS,IAAM,aAAa;QAC5B,WAAU;kBAET,YAAY;;;;;;AAGnB","debugId":null}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///D:/Workspace/emperorhouse-frontend/app/%28protected%29/admin/departments/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { Plus } from \"lucide-react\";\r\nimport { useDepartments } from \"@/hooks/useDepartments\";\r\nimport { DeptTable } from \"@/components/admin/departments/DeptTable\";\r\nimport { DeptForm } from \"@/components/admin/departments/DeptForm\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n  DialogClose,\r\n} from \"@/components/ui/dialog\";\r\n\r\nexport default function AdminDepartmentsPage() {\r\n  const { items, loading, error, q, setQ, reload, upsert, remove } =\r\n    useDepartments();\r\n\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editing, setEditing] = useState(null); // { id?, code, nameTh, nameEn }\r\n\r\n  const openNew = () => {\r\n    setEditing({ code: \"\", nameTh: \"\", nameEn: \"\" });\r\n    setDialogOpen(true);\r\n  };\r\n  const openEdit = (d) => {\r\n    setEditing({\r\n      id: d.id,\r\n      code: d.code || \"\",\r\n      nameTh: d.nameTh || \"\",\r\n      nameEn: d.nameEn || \"\",\r\n    });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  async function onSubmit(values) {\r\n    await upsert(values);\r\n    setDialogOpen(false);\r\n  }\r\n\r\n  return (\r\n    <main className=\"pt-20 px-4 sm:px-6 lg:px-8 max-w-screen-xl mx-auto space-y-4\">\r\n      <header className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n        <h1 className=\"text-xl sm:text-2xl font-semibold\">Departments</h1>\r\n        <div className=\"flex flex-wrap gap-3 items-center\">\r\n          <Input\r\n            className=\"w-60\"\r\n            placeholder=\"ค้นหา department\"\r\n            value={q}\r\n            onChange={(e) => setQ(e.target.value)}\r\n          />\r\n          <Button onClick={openNew} className=\"hidden sm:inline-flex\">\r\n            <Plus className=\"h-4 w-4 mr-2\" /> สร้างใหม่\r\n          </Button>\r\n        </div>\r\n      </header>\r\n\r\n      <section className=\"rounded-xl border dark:border-neutral-800 overflow-hidden\">\r\n        <DeptTable\r\n          items={items}\r\n          loading={loading}\r\n          onEdit={openEdit}\r\n          onDelete={remove}\r\n        />\r\n      </section>\r\n\r\n      {/* FAB (mobile) */}\r\n      <Button\r\n        onClick={openNew}\r\n        className=\"sm:hidden fixed bottom-5 right-5 z-40 rounded-full h-12 w-12 p-0\"\r\n        size=\"icon\"\r\n      >\r\n        <Plus className=\"h-5 w-5\" />\r\n      </Button>\r\n\r\n      {!!error && <div className=\"text-red-500 text-sm\">{error}</div>}\r\n\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-[600px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editing?.id ? `แก้ไข #${editing?.id}` : \"สร้างใหม่\"}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          {editing && (\r\n            <DeptForm\r\n              key={editing?.id ?? \"new\"}\r\n              defaultValues={editing}\r\n              onSubmit={onSubmit}\r\n            />\r\n          )}\r\n\r\n          <DialogFooter className=\"gap-2\">\r\n            <DialogClose asChild>\r\n              <Button variant=\"outline\">ยกเลิก</Button>\r\n            </DialogClose>\r\n            <Button form=\"dept-form\">บันทึก</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAiBe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAC9D,IAAA,yIAAc;IAEhB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,OAAO,gCAAgC;IAE9E,MAAM,UAAU;QACd,WAAW;YAAE,MAAM;YAAI,QAAQ;YAAI,QAAQ;QAAG;QAC9C,cAAc;IAChB;IACA,MAAM,WAAW,CAAC;QAChB,WAAW;YACT,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,IAAI,IAAI;YAChB,QAAQ,EAAE,MAAM,IAAI;YACpB,QAAQ,EAAE,MAAM,IAAI;QACtB;QACA,cAAc;IAChB;IAEA,eAAe,SAAS,MAAM;QAC5B,MAAM,OAAO;QACb,cAAc;IAChB;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mIAAK;gCACJ,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,KAAK,EAAE,MAAM,CAAC,KAAK;;;;;;0CAEtC,8OAAC,qIAAM;gCAAC,SAAS;gCAAS,WAAU;;kDAClC,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;0BAKvC,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC,6JAAS;oBACR,OAAO;oBACP,SAAS;oBACT,QAAQ;oBACR,UAAU;;;;;;;;;;;0BAKd,8OAAC,qIAAM;gBACL,SAAS;gBACT,WAAU;gBACV,MAAK;0BAEL,cAAA,8OAAC,0MAAI;oBAAC,WAAU;;;;;;;;;;;YAGjB,CAAC,CAAC,uBAAS,8OAAC;gBAAI,WAAU;0BAAwB;;;;;;0BAEnD,8OAAC,qIAAM;gBAAC,MAAM;gBAAY,cAAc;0BACtC,cAAA,8OAAC,4IAAa;oBAAC,WAAU;;sCACvB,8OAAC,2IAAY;sCACX,cAAA,8OAAC,0IAAW;0CACT,SAAS,KAAK,CAAC,OAAO,EAAE,SAAS,IAAI,GAAG;;;;;;;;;;;wBAI5C,yBACC,8OAAC,2JAAQ;4BAEP,eAAe;4BACf,UAAU;2BAFL,SAAS,MAAM;;;;;sCAMxB,8OAAC,2IAAY;4BAAC,WAAU;;8CACtB,8OAAC,0IAAW;oCAAC,OAAO;8CAClB,cAAA,8OAAC,qIAAM;wCAAC,SAAQ;kDAAU;;;;;;;;;;;8CAE5B,8OAAC,qIAAM;oCAAC,MAAK;8CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrC","debugId":null}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/plus.js","sources":["file:///D:/Workspace/emperorhouse-frontend/node_modules/lucide-react/src/icons/plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,IAAA,CAAA,CAAA,KAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}}]
}