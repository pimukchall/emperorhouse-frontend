{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\n\r\nconst ENV_COOKIES = (process.env.NEXT_PUBLIC_AUTH_COOKIES || \"\")\r\n  .split(\",\")\r\n  .map(s => s.trim())\r\n  .filter(Boolean);\r\n\r\nconst DEFAULT_COOKIES = [\"sid\", \"access_token\", \"accessToken\", \"jwt\", \"token\", \"refresh_token\"];\r\nconst AUTH_COOKIES = [...new Set([...ENV_COOKIES, ...DEFAULT_COOKIES])];\r\n\r\nfunction hasAnyAuthCookie(req) {\r\n  return AUTH_COOKIES.some((name) => {\r\n    const v = req.cookies.get(name)?.value;\r\n    return v && String(v).length > 10;\r\n  });\r\n}\r\n\r\nexport function middleware(req) {\r\n  if (hasAnyAuthCookie(req)) return NextResponse.next();\r\n\r\n  const url = new URL(req.url);\r\n  const to = new URL(\"/auth/login\", req.url);\r\n  to.searchParams.set(\"redirect\", url.pathname + url.search);\r\n  return NextResponse.redirect(to);\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/admin/:path*\", \"/hr/:path*\", \"/approvals/:path*\", \"/me/:path*\", \"/dashboard/:path*\"],\r\n};"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEA,MAAM,cAAc,CAAC,sEAAwC,EAAE,EAC5D,KAAK,CAAC,KACN,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IACf,MAAM,CAAC;AAEV,MAAM,kBAAkB;IAAC;IAAO;IAAgB;IAAe;IAAO;IAAS;CAAgB;AAC/F,MAAM,eAAe;OAAI,IAAI,IAAI;WAAI;WAAgB;KAAgB;CAAE;AAEvE,SAAS,iBAAiB,GAAG;IAC3B,OAAO,aAAa,IAAI,CAAC,CAAC;QACxB,MAAM,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO;QACjC,OAAO,KAAK,OAAO,GAAG,MAAM,GAAG;IACjC;AACF;AAEO,SAAS,WAAW,GAAG;IAC5B,IAAI,iBAAiB,MAAM,OAAO,gMAAY,CAAC,IAAI;IAEnD,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;IAC3B,MAAM,KAAK,IAAI,IAAI,eAAe,IAAI,GAAG;IACzC,GAAG,YAAY,CAAC,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,IAAI,MAAM;IACzD,OAAO,gMAAY,CAAC,QAAQ,CAAC;AAC/B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAiB;QAAc;QAAqB;QAAc;KAAoB;AAClG"}}]
}